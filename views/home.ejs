  <%- include('header') %>

  <div class="enTete">
    <h3 id="expense">Dépenses totales : <%= typeof total_expense !== 'undefined' ? total_expense : 0 %></h3>
    <h2 id="balance">Solde : <%= typeof balance !== 'undefined' ? balance : 0 %></h2>
    <h3 id="income">Revenu total : <%= typeof total_income !== 'undefined' ? total_income : 0 %></h3>
  </div>

  <form id="formTransaction">
    <input type="text" id="newCtg" placeholder="Catégorie">
    <input type="number" id="newAmount" placeholder="Montant">
    <input type="text" id="newType" placeholder="Type (income/expense)">
    <input type="date" id="newTransaction">
    <input type="submit" value="Ajouter" id="sumit">
  </form>

  <details>
    <summary>Historique</summary>
    <hr/>
    <ul id="liste-transactions">
    <% (Array.isArray(transactions) ? transactions : []).forEach(transaction => { %>
        <li>
          <span class="category"><%= transaction.category %></span>
          <span class="amount"><%= transaction.amount %></span>
          <span class="type"><%= transaction.type %></span>
          <span class="date"><%= transaction.date %></span>
        </li>
      <% }); %>
      <% if (!Array.isArray(transactions) || !transactions.length) { %>
        <li>Aucune transaction à afficher.</li>
      <% } %>
    </ul>
  </details>

  <script src="/JS/home.js"></script>
  </body>
  </html>